const themes = {
    Green: {
        light: {
            background: {
                DEFAULT: '0 0% 100%',
                secondary: '0 0% 90%',
                third: '0 0% 80%',
                foreground: '0 0% 0%',
            },
            foreground: {
                DEFAULT: '20 14.3% 4.1%',
                secondary: '0 0% 100%',
                background: '0 0% 100%',
            },
            primary: {
                DEFAULT: '90 100% 20%',
                foreground: '60 9.1% 97.8%',
                background: '24.6 95% 53.1%',
            },
            secondary: {
                DEFAULT: '90 80% 40%',
                foreground: '24 9.8% 10%',
                background: '60 4.8% 95.9%',
            },
            muted: {
                DEFAULT: '60 4.8% 95.9%',
                foreground: '25 5.3% 44.7%',
            },
            highlighted: {
                DEFAULT: '142.1 70.6% 45.3%',
                secondary: '142.1 70.6% 40%',
            },
            accent: {
                DEFAULT: '60 4.8% 95.9%',
                foreground: '24 9.8% 10%',
            },
            destructive: {
                DEFAULT: '0 84.2% 60.2%',
                foreground: '60 9.1% 97.8%',
            },
            card: {
                DEFAULT: '0 0% 100%',
                foreground: '20 14.3% 4.1%',
            },
            popover: {
                DEFAULT: '0 0% 100%',
                foreground: '20 14.3% 4.1%',
            },
            selectcolors: {
                DEFAULT: '142.4 71.8% 29.2%',
                foreground: '0 0% 98%',
            },
            border: '20 5.9% 90%',
            input: '20 5.9% 90%',
            ring: '24.6 95% 53.1%',
            radius: '0.5rem',
        },
        dark: {
            background: {
                DEFAULT: '90 30% 4%',
                secondary: '0 0% 10%',
                third: '0 0% 20%',
                foreground: '60 9.1% 97.8%',
            },
            foreground: {
                DEFAULT: '90 9.1% 97.8%',
                secondary: '0 0% 100%',
                background: '90 14.3% 4.1%',
            },
            primary: {
                DEFAULT: '90.5 90.2% 48.2%',
                foreground: '90 9.1% 97.8%',
                background: '90.5 90.2% 48.2%',
            },
            secondary: {
                DEFAULT: '90 6.5% 15.1%',
                foreground: '60 9.1% 97.8%',
            },
            accent: {
                DEFAULT: '90 6.5% 15.1%',
                foreground: '90 9.1% 97.8%',
            },
            destructive: {
                DEFAULT: '0 72.2% 50.6%',
                foreground: '60 9.1% 97.8%',
            },
            muted: {
                DEFAULT: '12 6.5% 15.1%',
                foreground: '24 5.4% 63.9%',
            },
            highlighted: {
                DEFAULT: '20.5 70.6% 45.3%',
                secondary: '142.1 70.6% 40%',
            },
            card: {
                DEFAULT: '20 14.3% 4.1%',
                foreground: '60 9.1% 97.8%',
            },
            popover: {
                DEFAULT: '20 14.3% 4.1%',
                foreground: '60 9.1% 97.8%',
            },
            selectcolors: {
                DEFAULT: '142.4 71.8% 29.2%',
                foreground: '0 0% 98%',
            },
            border: '90 6.5% 15.1%',
            input: '90 6.5% 15.1%',
            ring: '20.5 90.2% 48.2%',
            radius: '0.5rem',
        },
    },
    Orange: {
        light: {
            background: {
                DEFAULT: '0 0% 100%',
                secondary: '0 0% 90%',
                third: '0 0% 80%',
                foreground: '0 0% 0%',
            },
            foreground: {
                DEFAULT: '20 14.3% 4.1%',
                secondary: '0 0% 100%',
                background: '0 0% 100%',
            },
            primary: {
                DEFAULT: '24.6 95% 53.1%',
                foreground: '60 9.1% 97.8%',
                background: '24.6 95% 53.1%',
            },
            secondary: {
                DEFAULT: '60 4.8% 95.9%',
                foreground: '24 9.8% 10%',
                background: '60 4.8% 95.9%',
            },
            muted: {
                DEFAULT: '60 4.8% 95.9%',
                foreground: '25 5.3% 44.7%',
            },
            highlighted: {
                DEFAULT: '142.1 70.6% 45.3%',
                secondary: '142.1 70.6% 40%',
            },
            accent: {
                DEFAULT: '60 4.8% 95.9%',
                foreground: '24 9.8% 10%',
            },
            destructive: {
                DEFAULT: '0 84.2% 60.2%',
                foreground: '60 9.1% 97.8%',
            },
            card: {
                DEFAULT: '0 0% 100%',
                foreground: '20 14.3% 4.1%',
            },
            popover: {
                DEFAULT: '0 0% 100%',
                foreground: '20 14.3% 4.1%',
            },
            selectcolors: {
                DEFAULT: '142.4 71.8% 29.2%',
                foreground: '0 0% 98%',
            },
            border: '20 5.9% 90%',
            input: '20 5.9% 90%',
            ring: '24.6 95% 53.1%',
            radius: '0.5rem',
        },
        dark: {
            background: {
                DEFAULT: '20 30% 4%',
                secondary: '0 0% 10%',
                third: '0 0% 20%',
                foreground: '60 9.1% 97.8%',
            },
            foreground: {
                DEFAULT: '60 9.1% 97.8%',
                secondary: '0 0% 100%',
                background: '20 14.3% 4.1%',
            },
            primary: {
                DEFAULT: '20.5 90.2% 48.2%',
                foreground: '60 9.1% 97.8%',
                background: '20.5 90.2% 48.2%',
            },
            secondary: {
                DEFAULT: '12 6.5% 15.1%',
                foreground: '60 9.1% 97.8%',
            },
            accent: {
                DEFAULT: '12 6.5% 15.1%',
                foreground: '60 9.1% 97.8%',
            },
            destructive: {
                DEFAULT: '0 72.2% 50.6%',
                foreground: '60 9.1% 97.8%',
            },
            muted: {
                DEFAULT: '12 6.5% 15.1%',
                foreground: '24 5.4% 63.9%',
            },
            highlighted: {
                DEFAULT: '20.5 70.6% 45.3%',
                secondary: '142.1 70.6% 40%',
            },
            card: {
                DEFAULT: '20 14.3% 4.1%',
                foreground: '60 9.1% 97.8%',
            },
            popover: {
                DEFAULT: '20 14.3% 4.1%',
                foreground: '60 9.1% 97.8%',
            },
            selectcolors: {
                DEFAULT: '142.4 71.8% 29.2%',
                foreground: '0 0% 98%',
            },
            border: '12 6.5% 15.1%',
            input: '12 6.5% 15.1%',
            ring: '20.5 90.2% 48.2%',
            radius: '0.5rem',
        },
    },
    Theme: {
        light: {
            background: {
                DEFAULT: '0 0% 97%',
                secondary: '0 0% 92%',
                third: '0 0% 87%',
                foreground: '0 0% 13%',
            },
            foreground: {
                DEFAULT: '0 0% 10%',
                secondary: '0 0% 70%',
                background: '0 0% 97%',
            },
            primary: {
                DEFAULT: '0 0% 65%',
                foreground: '0 0% 96%',
                background: '0 0% 65%',
            },
            secondary: {
                DEFAULT: '0 0% 85%',
                foreground: '0 0% 20%',
                background: '0 0% 85%',
            },
            muted: {
                DEFAULT: '0 0% 90%',
                foreground: '0 0% 45%',
            },
            highlighted: {
                DEFAULT: '0 0% 50%',
                secondary: '0 0% 45%',
            },
            accent: {
                DEFAULT: '0 0% 90%',
                foreground: '0 0% 20%',
            },
            destructive: {
                DEFAULT: '0 0% 60%',
                foreground: '0 0% 97%',
            },
            card: {
                DEFAULT: '0 0% 97%',
                foreground: '0 0% 10%',
            },
            popover: {
                DEFAULT: '0 0% 97%',
                foreground: '0 0% 10%',
            },
            selectcolors: {
                DEFAULT: '0 0% 45%',
                foreground: '0 0% 98%',
            },
            border: '0 0% 85%',
            input: '0 0% 85%',
            ring: '0 0% 65%',
            radius: '0.5rem',
        },
        dark: {
            background: {
                DEFAULT: '0 0% 10%',
                secondary: '0 0% 12%',
                third: '0 0% 15%',
                foreground: '0 0% 90%',
            },
            foreground: {
                DEFAULT: '0 0% 90%',
                secondary: '0 0% 30%',
                background: '0 0% 10%',
            },
            primary: {
                DEFAULT: '0 0% 40%',
                foreground: '0 0% 95%',
                background: '0 0% 30%',
            },
            secondary: {
                DEFAULT: '0 0% 20%',
                foreground: '0 0% 90%',
            },
            accent: {
                DEFAULT: '0 0% 20%',
                foreground: '0 0% 90%',
            },
            destructive: {
                DEFAULT: '0 0% 50.6%',
                foreground: '0 0% 90%',
            },
            muted: {
                DEFAULT: '0 0% 20%',
                foreground: '0 0% 65%',
            },
            highlighted: {
                DEFAULT: '0 0% 40%',
                secondary: '0 0% 35%',
            },
            card: {
                DEFAULT: '0 0% 15%',
                foreground: '0 0% 90%',
            },
            popover: {
                DEFAULT: '0 0% 15%',
                foreground: '0 0% 90%',
            },
            selectcolors: {
                DEFAULT: '0 0% 45%',
                foreground: '0 0% 98%',
            },
            border: '0 0% 15%',
            input: '0 0% 12%',
            ring: '0 0% 40%',
            radius: '0.5rem',
        },
    },
};

type ThemeMode = 'light' | 'dark';
type Color = keyof typeof themes;
type Theme = typeof themes.Orange.light | typeof themes.Orange.dark | typeof themes.Theme.light | typeof themes.Theme.dark;
type ThemeObject = { [key: string]: string | ThemeObject };

export default function setGlobalColorTheme(themeMode: ThemeMode, color: Color) {
    const theme = themes[color][themeMode];

    function setCSSVariables(prefix: string, obj: ThemeObject) {
        for (const key in obj) {
            const value = obj[key];
            let variableName: string;

            if (key === 'DEFAULT') {
                variableName = prefix;
            } else {
                variableName = prefix ? `${prefix}-${key}` : key;
            }

            if (typeof value === 'object' && value !== null) {
                setCSSVariables(variableName, value as ThemeObject);
            } else {
                document.body.style.setProperty(`--${variableName}`, value as string);
            }
        }
    }

    setCSSVariables('', theme);
}

export function extractThemeVariableNames() {
    const allKeys = new Set<string>();

    function extractKeysFromTheme(prefix: string, obj: ThemeObject) {
        Object.entries(obj).forEach(([key, value]) => {
            if (key === 'DEFAULT') {
                allKeys.add(prefix);
            } else {
                const fullKey = prefix ? `${prefix}-${key}` : key;
                if (typeof value === 'object' && value !== null) {
                    extractKeysFromTheme(fullKey, value as ThemeObject);
                } else {
                    allKeys.add(fullKey);
                }
            }
        });
    }

    Object.values(themes).forEach((themeVariant) => {
        ['light', 'dark'].forEach((mode) => {
            extractKeysFromTheme('', themeVariant[mode as ThemeMode]);
        });
    });

    return Array.from(allKeys);
}